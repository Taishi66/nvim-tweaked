-- ════════════════════════════════════════════════════════════════════════════
-- COLLECTION DE THÈMES - Optimisés pour Neovim + LazyVim
-- ════════════════════════════════════════════════════════════════════════════
-- FONCTIONNALITÉS:
-- • Transparence conditionnelle via vim.g.transparent_enabled
-- • Toggle transparence: <leader>ut
-- • Changer thème (persistant): <leader>uC
-- • Lazy loading intelligent: seul le thème par défaut charge au démarrage
-- • Configuration centralisée dans config/theme-configs.lua
-- ════════════════════════════════════════════════════════════════════════════

local TC = require("config.theme-configs")

-- Helper pour créer un thème avec lazy loading
local function theme(spec, is_default)
  spec.lazy = not is_default
  spec.priority = 1000
  return spec
end

return {
  -- ══════════════════════════════════════════════════════════════════════════
  -- TOKYO NIGHT - THÈME PAR DÉFAUT (lazy = false)
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "folke/tokyonight.nvim",
    opts = TC.tokyonight,
  }, true), -- true = thème par défaut

  -- ══════════════════════════════════════════════════════════════════════════
  -- CATPPUCCIN (lazy = true, chargé à la demande)
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "catppuccin/nvim",
    name = "catppuccin",
    opts = TC.catppuccin,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- KANAGAWA
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "rebelot/kanagawa.nvim",
    opts = TC.kanagawa,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- ROSE PINE
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "rose-pine/neovim",
    name = "rose-pine",
    opts = TC["rose-pine"],
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- ONEDARK
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "navarasu/onedark.nvim",
    opts = TC.onedark,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- GRUVBOX MATERIAL (utilise vim.g.*)
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "sainnhe/gruvbox-material",
    init = TC.vimg["gruvbox-material"],
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- EVERFOREST (utilise vim.g.*)
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "sainnhe/everforest",
    init = TC.vimg["everforest"],
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- NIGHTFOX
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "EdenEast/nightfox.nvim",
    opts = TC.nightfox,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- DRACULA
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "Mofiqul/dracula.nvim",
    opts = TC.dracula,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- NORD (utilise vim.g.*)
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "shaunsingh/nord.nvim",
    init = TC.vimg["nord"],
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- GITHUB THEME
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "projekt0n/github-nvim-theme",
    config = function()
      require("github-theme").setup(TC["github-theme"]())
    end,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- SOLARIZED OSAKA
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "craftzdog/solarized-osaka.nvim",
    opts = TC["solarized-osaka"],
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- VSCODE
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "Mofiqul/vscode.nvim",
    opts = TC.vscode,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- AYU
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "Shatur/neovim-ayu",
    opts = TC.ayu,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- MONOKAI PRO
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "loctvl842/monokai-pro.nvim",
    opts = TC["monokai-pro"],
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- CYBERDREAM
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "scottmckendry/cyberdream.nvim",
    opts = TC.cyberdream,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- SONOKAI (utilise vim.g.*)
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "sainnhe/sonokai",
    init = TC.vimg["sonokai"],
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- MATERIAL (utilise vim.g.* + setup)
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "marko-cerovac/material.nvim",
    init = TC.vimg["material"],
    opts = TC.material,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- OXOCARBON (pas de support transparence natif - géré par autocmd)
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "nyoom-engineering/oxocarbon.nvim",
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- FLUOROMACHINE
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "maxmx03/fluoromachine.nvim",
    opts = TC.fluoromachine,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- MELANGE (pas de support transparence natif - géré par autocmd)
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "savq/melange-nvim",
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- BAMBOO
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "ribru17/bamboo.nvim",
    opts = TC.bamboo,
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- MODUS THEMES
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "miikanissi/modus-themes.nvim",
    opts = TC["modus-themes"],
  }),

  -- ══════════════════════════════════════════════════════════════════════════
  -- POIMANDRES
  -- ══════════════════════════════════════════════════════════════════════════
  theme({
    "olivercederborg/poimandres.nvim",
    opts = TC.poimandres,
  }),
}
